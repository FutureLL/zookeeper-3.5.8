package com.future.zkclient;import org.I0Itec.zkclient.IZkDataListener;import org.I0Itec.zkclient.ZkClient;import org.I0Itec.zkclient.serialize.SerializableSerializer;import java.io.IOException;/** * @Description: * @Author: lilei58 * @Date: Created in 2021/11/23 上午8:14 * * 引入: com.101tec:zkclient:0.1.0 下载 jar 包 * 路径: /resources/lib/zkclient-0.1.0.jar * 添加: 将 resources 文件变成资源文件, *      双击 jar 包,选择 Add as Library, *      双击 lib 选择 Add as Library * * 该客户端解决了原生 Watcher 只有一次调用的问题 */public class ZkClientTest {    public static void main(String[] args) throws IOException {        // 初始化客户端        ZkClient zk = new ZkClient("localhost:2181", 10000, 10000, new SerializableSerializer());        // 创建临时节点        //zk.createEphemeral("/firstNode", "1");        // 订阅数据该表        zk.subscribeDataChanges("/firstNode", new IZkDataListener() {            @Override            public void handleDataChange(String s, Object o) throws Exception {                System.out.println("数据改变");            }            @Override            public void handleDataDeleted(String s) throws Exception {                System.out.println("数据删除");            }        });        // 输入的时候结束程序        System.in.read();    }}